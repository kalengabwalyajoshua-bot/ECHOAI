<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>EchoAI - Your Magical AI Companion</title>
<style>
/* ===== Reset & Base ===== */
* {margin:0; padding:0; box-sizing:border-box; font-family:'Segoe UI', sans-serif;}
body {overflow:hidden; background:#0f0c29; color:#fff;}

/* ===== Magical Background ===== */
#background {
  position:fixed; top:0; left:0; width:100%; height:100%;
  background: radial-gradient(circle at top, #0f0c29, #302b63, #24243e);
  z-index:-1;
}
#background::before {
  content:""; position:absolute; width:200%; height:200%;
  background: url('https://i.ibb.co/4VQn8v7/stars.png') repeat;
  animation: floatStars 120s linear infinite;
}
@keyframes floatStars {
  from {transform: translate(0,0);}
  to {transform: translate(-100px,-100px);}
}

/* ===== Chat Container ===== */
.chat-container {
  position:absolute;
  bottom:100px; left:50%; transform:translateX(-50%);
  width:90%; max-width:550px;
  background: rgba(0,0,0,0.6);
  border-radius:20px; padding:20px;
  box-shadow: 0 0 30px #7f5af0;
}
#messages { max-height:350px; overflow-y:auto; margin-bottom:10px; }
.message { margin:5px 0; padding:10px 15px; border-radius:15px; display:inline-block; max-width:80%; }
.user { background:#7f5af0; color:#fff; align-self:flex-end; float:right; }
.ai { background:#4ade80; color:#000; align-self:flex-start; float:left; }

/* ===== Input Area ===== */
.input-area { display:flex; gap:5px; }
.input-area input {
  flex:1; padding:12px 15px; border-radius:15px; border:none; outline:none; font-size:1rem;
}
.input-area button {
  padding:12px 15px; border-radius:15px; border:none; cursor:pointer;
  background:#7f5af0; color:#fff; transition:0.3s;
}
.input-area button:hover { background:#6b4dc9; }

/* ===== Music Player ===== */
.music-player {
  position:fixed; bottom:0; width:100%; text-align:center; padding:12px;
  background: rgba(0,0,0,0.7); color:#fff; font-size:1rem;
}
.music-player audio { width:90%; border-radius:10px; outline:none; }

/* ===== AI Orb ===== */
#aiOrb {
  position:fixed; bottom:150px; right:20px;
  width:60px; height:60px; border-radius:50%;
  background: radial-gradient(circle, #7f5af0, #4ade80);
  box-shadow: 0 0 30px #7f5af0;
  animation: pulse 2s infinite;
  cursor:pointer;
}
@keyframes pulse {
  0% { transform: scale(1); box-shadow:0 0 20px #7f5af0; }
  50% { transform: scale(1.2); box-shadow:0 0 40px #4ade80; }
  100% { transform: scale(1); box-shadow:0 0 20px #7f5af0; }
}

/* ===== Floating Decorative Orbs ===== */
.floating-orb {
  position:absolute; width:20px; height:20px; border-radius:50%;
  background: radial-gradient(circle, #ff00ff, #00ffff);
  animation: float 10s infinite alternate;
  opacity:0.6;
}
@keyframes float {
  0% {transform:translateY(0) translateX(0);}
  100% {transform:translateY(-100px) translateX(50px);}
}
</style>
</head>
<body>

<!-- Background -->
<div id="background"></div>

<!-- Floating decorative orbs -->
<div class="floating-orb" style="top:50px; left:80px; animation-delay:0s;"></div>
<div class="floating-orb" style="top:200px; left:300px; animation-delay:2s;"></div>
<div class="floating-orb" style="top:400px; left:150px; animation-delay:4s;"></div>
<div class="floating-orb" style="top:100px; left:500px; animation-delay:6s;"></div>
<div class="floating-orb" style="top:350px; left:400px; animation-delay:8s;"></div>

<!-- Chat container -->
<div class="chat-container">
  <div id="messages"></div>
  <div class="input-area">
    <input type="text" id="userInput" placeholder="Ask me anything..." autocomplete="off">
    <button id="sendBtn">Send</button>
    <button id="voiceBtn">ðŸŽ¤</button>
  </div>
</div>

<!-- Music player -->
<div class="music-player">
  <p id="nowPlaying">No music playing</p>
  <audio id="music" controls></audio>
</div>

<!-- AI Orb -->
<div id="aiOrb"></div>

<!-- JS -->
<script>
const messages = document.getElementById('messages');
const userInput = document.getElementById('userInput');
const sendBtn = document.getElementById('sendBtn');
const voiceBtn = document.getElementById('voiceBtn');
const musicPlayer = document.getElementById('music');
const nowPlaying = document.getElementById('nowPlaying');
const synth = window.speechSynthesis;

// Extra helper data to make HTML big and magical
const magicalGreetings = [
  "ðŸŒŸ Welcome to EchoAI, your magical companion!",
  "âœ¨ The stars are listeningâ€¦ ask anything!",
  "ðŸ’« Your emotions guide my music and words."
];

// Initial magical messages
magicalGreetings.forEach(msg => {
  const div = document.createElement('div');
  div.classList.add('message','ai');
  div.textContent = msg;
  messages.appendChild(div);
});

// Simple emotion detection
function detectEmotion(text){
  text = text.toLowerCase();
  if(/happy|good|great|awesome|yay|fantastic|amazing/.test(text)) return 'happy';
  if(/sad|unhappy|lonely|bad|upset|depressed/.test(text)) return 'sad';
  if(/angry|mad|hate|annoyed|frustrated/.test(text)) return 'angry';
  return 'neutral';
}

// AI response generator
function aiResponse(text){
  const emotion = detectEmotion(text);
  let response = "";
  switch(emotion){
    case 'happy': response="ðŸ˜„ You sound happy! Let's keep the good vibes flowing!"; playMoodMusic('happy'); break;
    case 'sad': response="ðŸ˜¢ It's okay to feel sad. I'm here with you."; playMoodMusic('sad'); break;
    case 'angry': response="ðŸ˜¡ Take a deep breath. Let's calm down together."; playMoodMusic('angry'); break;
    default: response="ðŸ™‚ I hear you. Tell me more."; playMoodMusic('neutral'); break;
  }
  speak(response);
  return response;
}

// Add message
function addMessage(text, sender){
  const msg = document.createElement('div');
  msg.classList.add('message', sender);
  msg.textContent = text;
  messages.appendChild(msg);
  messages.scrollTop = messages.scrollHeight;
}

// Text-to-speech
function speak(text){
  const utter = new SpeechSynthesisUtterance(text);
  utter.lang='en-US';
  synth.speak(utter);
}

// Mood music engine
function playMoodMusic(emotion){
  let url="";
  switch(emotion){
    case 'happy': url="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3"; break;
    case 'sad': url="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3"; break;
    case 'angry': url="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-3.mp3"; break;
    default: url="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-4.mp3"; break;
  }
  musicPlayer.src=url;
  musicPlayer.play();
  nowPlaying.textContent=`Playing ${emotion} music ðŸŽµ`;
}

// Send button
sendBtn.addEventListener('click', ()=>{
  const text=userInput.value.trim();
  if(!text) return;
  addMessage(text,'user');
  const reply=aiResponse(text);
  addMessage(reply,'ai');
  userInput.value="";
});

// Voice input
voiceBtn.addEventListener('click', ()=>{
  const recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
  recognition.lang='en-US';
  recognition.start();
  recognition.onresult=(event)=>{
    const text=event.results[0][0].transcript;
    addMessage(text,'user');
    // Check commands
    if(/call|open|turn on|turn off/.test(text.toLowerCase())){
      addMessage(`âš¡ Executing command: "${text}" (Simulation)`, 'ai');
      speak(`Executing command: ${text}`);
    } else {
      const reply=aiResponse(text);
      addMessage(reply,'ai');
    }
  };
});

// Add extra magical floating messages periodically to increase file size & magic
setInterval(()=>{
  const magicals = [
    "ðŸŒŒ The stars whisper secrets to those who ask.",
    "ðŸ”® EchoAI senses your feelings and responds.",
    "âœ¨ Music flows with your mood like a magic river.",
    "ðŸ’« The AI orb glows brighter when you are excited.",
    "ðŸŒ  Your words ripple through the digital cosmos."
  ];
  const msg = magicals[Math.floor(Math.random()*magicals.length)];
  addMessage(msg,'ai');
}, 20000);

</script>
</body>
</html>
